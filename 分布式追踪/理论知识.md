**分布式追踪遵循 openTracing 规范**

```
https://opentracing.io/
https://wu-sheng.gitbooks.io/opentracing-io/content/pages/api/cross-process-tracing.html

本规范规定了分布式链路追踪系统的开发所需要遵循的API设计原则、API层数据结构,其中包括(Traces<traceID>、Spans<Logs,Tags,SpanContext,Baggage,Inject,Extract>),使得保证底层追踪系统的兼容
```

**实现：Jaeger、zinpin、adddash、pinpoint、SkyWalking** 

```
https://www.jaegertracing.io/docs/1.18/getting-started/
https://github.com/sourcegraph/appdash
https://github.com/hhzhhzhhz/aliyun-log-jaeger
https://github.com/naver/pinpoint/blob/master/doc/installation.md
```

**原理**

```
使用全局传递 traceId 的方式来连接各个服务的span, 各自服务数据最终数据写入类似ES存储系统中,搜索traceId使得span连接
```



**jaeger**

```
包含: client, Collector,Query，提供了all-in-one测试支持且阿里日志系统提供了支持
    client 使用UDP上报到collector，部署到应用边缘可减少UDP丢包
	Collector 数据存储写入存储系统
	Query 连接存储查询数据
注意点:
	UDP数据包如果超过一个MTU，数据链路会对数据分包,目前阿里SLB会对UDP分包数据进行丢弃, 直接使用k8s服务	名可绕过SLB

```





**zippin、jaeger**

```
Jaeger 是 CNCF 的一部分，因此 Kubernetes 是首选的部署平台。
```



**appdash**

```
提供的客户端仅支持 Go, Python
```



#### pinpoint、SkyWalking

```
实现方式：java探针，字节码增强
提供监控应用、pinpoint存储使用hbase 使用成本高，如果部署使用k8s pinpoint、SkyWalking可能不是很好的选择，k8s提供完整的应用监控
```

